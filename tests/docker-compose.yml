version: "3.2"
services:
  miney_server:
    image: miney/miney-server:dev
    ports:
      - "29999:29999"
      - "30000:30000/udp"
      - "30000:30000/tcp"
    environment:
      MT_MG_NAME: flat
      MT_MG_FLAGS: nocaves,nodungeons,light,nodecorations,biomes
      MT_MGFLAT_GROUND_LEVEL: -1
      MT_WATER_LEVEL: -2
      MT_CREATIVE_MODE: "true"
      MT_STATIC_SPAWNPOINT: (0,0,0)
  minetest_client_one:
    image: miney/minetest-client
    environment:
      SERVER: miney_server
      PORT: 30000
      PLAYERNAME: PlayerOne
      RANDOM_INPUT: 0
      VNC: 1
    ports:
      - "5901:5901/tcp"
    depends_on:
      - "miney_server"
  minetest_client_two:
    image: miney/minetest-client
    environment:
      SERVER: miney_server
      PORT: 30000
      PLAYERNAME: PlayerTwo
      RANDOM_INPUT: 0
      VNC: 1
    ports:
      - "5902:5901/tcp"
    depends_on:
      - "miney_server"
  minetest_client_three:
    image: miney/minetest-client
    environment:
      SERVER: miney_server
      PORT: 30000
      PLAYERNAME: PlayerThree
      RANDOM_INPUT: 0
      VNC: 1
    ports:
      - "5903:5901/tcp"
    depends_on:
      - "miney_server"